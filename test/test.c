#include <tutf8e.h>

#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int main(int argc, char *argv[])
{
  int pass = 0;
  int fail = 0;
  int ret;
  char buffer[1024];

  const char english[] = { 65, 32, 113, 117, 105, 99, 107, 32, 98, 114, 111, 119, 110, 32, 102, 111, 120, 32, 106, 117, 109, 112, 115, 32, 111, 118, 101, 114, 32, 116, 104, 101, 32, 108, 97, 122, 121, 32, 100, 111, 103, 0 };
  const char czech[] = { 78, 101, 99, 104, 187, 32, 106, 105, 190, 32, 104, 248, 237, 185, 110, 233, 32, 115, 97, 120, 111, 102, 111, 110, 121, 32, 239, 225, 98, 108, 249, 32, 114, 111, 122, 101, 122, 118, 117, 232, 237, 32, 115, 237, 242, 32, 250, 100, 236, 115, 110, 253, 109, 105, 32, 116, 243, 110, 121, 32, 119, 97, 108, 116, 122, 117, 44, 32, 116, 97, 110, 103, 97, 32, 97, 32, 113, 117, 105, 99, 107, 115, 116, 101, 112, 117, 46, 0 };
  const char turkish[] = { 80, 105, 106, 97, 109, 97, 108, 185, 32, 104, 97, 115, 116, 97, 32, 121, 97, 187, 185, 122, 32, 186, 111, 102, 246, 114, 101, 32, 231, 97, 98, 117, 99, 97, 107, 32, 103, 252, 118, 101, 110, 100, 105, 46, 0 };
  const char estonian[] = { 80, 245, 100, 117, 114, 32, 90, 97, 103, 114, 101, 98, 105, 32, 116, 185, 101, 108, 108, 111, 109, 228, 110, 103, 105, 106, 97, 45, 102, 246, 108, 106, 101, 116, 111, 110, 105, 115, 116, 32, 67, 105, 113, 111, 32, 107, 252, 108, 109, 101, 116, 97, 115, 32, 107, 101, 104, 118, 97, 115, 32, 103, 97, 114, 97, 97, 190, 105, 115, 0 };
  const char russian[] = { 178, 32, 231, 208, 233, 208, 229, 32, 238, 211, 208, 32, 214, 216, 219, 32, 209, 235, 32, 230, 216, 226, 224, 227, 225, 63, 32, 180, 208, 44, 32, 221, 222, 32, 228, 208, 219, 236, 232, 216, 210, 235, 217, 32, 237, 218, 215, 213, 220, 223, 219, 239, 224, 33, 0 };
  const char greek[] = { 228, 233, 225, 246, 245, 235, 220, 238, 244, 229, 32, 227, 229, 237, 233, 234, 220, 32, 244, 231, 32, 230, 249, 222, 32, 243, 225, 242, 32, 225, 240, 252, 32, 226, 225, 232, 229, 233, 220, 32, 248, 245, 247, 233, 234, 220, 32, 244, 241, 225, 253, 236, 225, 244, 225, 0 };
  const char hebrew[] = { 242, 232, 236, 243, 32, 224, 225, 247, 32, 240, 241, 32, 227, 248, 234, 32, 238, 230, 226, 239, 32, 249, 228, 250, 244, 229, 246, 245, 32, 235, 233, 32, 231, 237, 0 };
  const char turkish2[] = { 80, 105, 106, 97, 109, 97, 108, 253, 32, 104, 97, 115, 116, 97, 32, 121, 97, 240, 253, 122, 32, 254, 111, 102, 246, 114, 101, 32, 231, 97, 98, 117, 99, 97, 107, 32, 103, 252, 118, 101, 110, 100, 105, 46, 0 };
  const char swedish[] = { 70, 108, 121, 103, 97, 110, 100, 101, 32, 98, 228, 99, 107, 97, 115, 105, 110, 101, 114, 32, 115, 246, 107, 97, 32, 104, 119, 105, 108, 97, 32, 112, 229, 32, 109, 106, 117, 107, 97, 32, 116, 117, 118, 111, 114, 46, 0 };
  const char thai[] = { 224, 187, 231, 185, 193, 185, 216, 201, 194, 236, 202, 216, 180, 187, 195, 208, 224, 202, 195, 212, 176, 224, 197, 212, 200, 164, 216, 179, 164, 232, 210, 32, 161, 199, 232, 210, 186, 195, 195, 180, 210, 189, 217, 167, 202, 209, 181, 199, 236, 224, 180, 195, 209, 168, 169, 210, 185, 32, 168, 167, 189, 232, 210, 191, 209, 185, 190, 209, 178, 185, 210, 199, 212, 170, 210, 161, 210, 195, 32, 205, 194, 232, 210, 197, 233, 210, 167, 188, 197, 210, 173, 196, 229, 224, 162, 232, 185, 166, 232, 210, 186, 213, 177, 210, 227, 164, 195, 32, 228, 193, 232, 182, 215, 205, 226, 183, 201, 226, 161, 195, 184, 225, 170, 232, 167, 171, 209, 180, 206, 214, 180, 206, 209, 180, 180, 232, 210, 32, 203, 209, 180, 205, 192, 209, 194, 224, 203, 193, 215, 205, 185, 161, 213, 204, 210, 205, 209, 170, 172, 210, 202, 209, 194, 32, 187, 175, 212, 186, 209, 181, 212, 187, 195, 208, 190, 196, 181, 212, 161, 174, 161, 211, 203, 185, 180, 227, 168, 32, 190, 217, 180, 168, 210, 227, 203, 233, 168, 234, 208, 230, 32, 168, 235, 210, 230, 32, 185, 232, 210, 191, 209, 167, 224, 205, 194, 207, 0 };
  const char polish[] = { 74, 101, 253, 117, 32, 107, 108, 224, 116, 119, 44, 32, 115, 112, 249, 243, 100, 234, 32, 70, 105, 110, 111, 109, 32, 99, 122, 230, 250, 227, 32, 103, 114, 121, 32, 104, 97, 241, 98, 33, 0 };

  const char englishUTF8[] = { 65, 32, 113, 117, 105, 99, 107, 32, 98, 114, 111, 119, 110, 32, 102, 111, 120, 32, 106, 117, 109, 112, 115, 32, 111, 118, 101, 114, 32, 116, 104, 101, 32, 108, 97, 122, 121, 32, 100, 111, 103, 0 };
  const char czechUTF8[] = { 78, 101, 99, 104, 197, 165, 32, 106, 105, 197, 190, 32, 104, 197, 153, 195, 173, 197, 161, 110, 195, 169, 32, 115, 97, 120, 111, 102, 111, 110, 121, 32, 196, 143, 195, 161, 98, 108, 197, 175, 32, 114, 111, 122, 101, 122, 118, 117, 196, 141, 195, 173, 32, 115, 195, 173, 197, 136, 32, 195, 186, 100, 196, 155, 115, 110, 195, 189, 109, 105, 32, 116, 195, 179, 110, 121, 32, 119, 97, 108, 116, 122, 117, 44, 32, 116, 97, 110, 103, 97, 32, 97, 32, 113, 117, 105, 99, 107, 115, 116, 101, 112, 117, 46, 0 };
  const char turkishUTF8[] = { 80, 105, 106, 97, 109, 97, 108, 196, 177, 32, 104, 97, 115, 116, 97, 32, 121, 97, 196, 159, 196, 177, 122, 32, 197, 159, 111, 102, 195, 182, 114, 101, 32, 195, 167, 97, 98, 117, 99, 97, 107, 32, 103, 195, 188, 118, 101, 110, 100, 105, 46, 0 };
  const char estonianUTF8[] = { 80, 195, 181, 100, 117, 114, 32, 90, 97, 103, 114, 101, 98, 105, 32, 116, 197, 161, 101, 108, 108, 111, 109, 195, 164, 110, 103, 105, 106, 97, 45, 102, 195, 182, 108, 106, 101, 116, 111, 110, 105, 115, 116, 32, 67, 105, 113, 111, 32, 107, 195, 188, 108, 109, 101, 116, 97, 115, 32, 107, 101, 104, 118, 97, 115, 32, 103, 97, 114, 97, 97, 197, 190, 105, 115, 0 };
  const char russianUTF8[] = { 208, 146, 32, 209, 135, 208, 176, 209, 137, 208, 176, 209, 133, 32, 209, 142, 208, 179, 208, 176, 32, 208, 182, 208, 184, 208, 187, 32, 208, 177, 209, 139, 32, 209, 134, 208, 184, 209, 130, 209, 128, 209, 131, 209, 129, 63, 32, 208, 148, 208, 176, 44, 32, 208, 189, 208, 190, 32, 209, 132, 208, 176, 208, 187, 209, 140, 209, 136, 208, 184, 208, 178, 209, 139, 208, 185, 32, 209, 141, 208, 186, 208, 183, 208, 181, 208, 188, 208, 191, 208, 187, 209, 143, 209, 128, 33, 0 };
  const char greekUTF8[] = { 206, 180, 206, 185, 206, 177, 207, 134, 207, 133, 206, 187, 206, 172, 206, 190, 207, 132, 206, 181, 32, 206, 179, 206, 181, 206, 189, 206, 185, 206, 186, 206, 172, 32, 207, 132, 206, 183, 32, 206, 182, 207, 137, 206, 174, 32, 207, 131, 206, 177, 207, 130, 32, 206, 177, 207, 128, 207, 140, 32, 206, 178, 206, 177, 206, 184, 206, 181, 206, 185, 206, 172, 32, 207, 136, 207, 133, 207, 135, 206, 185, 206, 186, 206, 172, 32, 207, 132, 207, 129, 206, 177, 207, 141, 206, 188, 206, 177, 207, 132, 206, 177, 0 };
  const char hebrewUTF8[] = { 215, 162, 215, 152, 215, 156, 215, 163, 32, 215, 144, 215, 145, 215, 167, 32, 215, 160, 215, 161, 32, 215, 147, 215, 168, 215, 154, 32, 215, 158, 215, 150, 215, 146, 215, 159, 32, 215, 169, 215, 148, 215, 170, 215, 164, 215, 149, 215, 166, 215, 165, 32, 215, 155, 215, 153, 32, 215, 151, 215, 157, 0 };
  const char turkish2UTF8[] = { 80, 105, 106, 97, 109, 97, 108, 196, 177, 32, 104, 97, 115, 116, 97, 32, 121, 97, 196, 159, 196, 177, 122, 32, 197, 159, 111, 102, 195, 182, 114, 101, 32, 195, 167, 97, 98, 117, 99, 97, 107, 32, 103, 195, 188, 118, 101, 110, 100, 105, 46, 0 };
  const char swedishUTF8[] = { 70, 108, 121, 103, 97, 110, 100, 101, 32, 98, 195, 164, 99, 107, 97, 115, 105, 110, 101, 114, 32, 115, 195, 182, 107, 97, 32, 104, 119, 105, 108, 97, 32, 112, 195, 165, 32, 109, 106, 117, 107, 97, 32, 116, 117, 118, 111, 114, 46, 0 };
  const char thaiUTF8[] = { 224, 185, 128, 224, 184, 155, 224, 185, 135, 224, 184, 153, 224, 184, 161, 224, 184, 153, 224, 184, 184, 224, 184, 169, 224, 184, 162, 224, 185, 140, 224, 184, 170, 224, 184, 184, 224, 184, 148, 224, 184, 155, 224, 184, 163, 224, 184, 176, 224, 185, 128, 224, 184, 170, 224, 184, 163, 224, 184, 180, 224, 184, 144, 224, 185, 128, 224, 184, 165, 224, 184, 180, 224, 184, 168, 224, 184, 132, 224, 184, 184, 224, 184, 147, 224, 184, 132, 224, 185, 136, 224, 184, 178, 32, 224, 184, 129, 224, 184, 167, 224, 185, 136, 224, 184, 178, 224, 184, 154, 224, 184, 163, 224, 184, 163, 224, 184, 148, 224, 184, 178, 224, 184, 157, 224, 184, 185, 224, 184, 135, 224, 184, 170, 224, 184, 177, 224, 184, 149, 224, 184, 167, 224, 185, 140, 224, 185, 128, 224, 184, 148, 224, 184, 163, 224, 184, 177, 224, 184, 136, 224, 184, 137, 224, 184, 178, 224, 184, 153, 32, 224, 184, 136, 224, 184, 135, 224, 184, 157, 224, 185, 136, 224, 184, 178, 224, 184, 159, 224, 184, 177, 224, 184, 153, 224, 184, 158, 224, 184, 177, 224, 184, 146, 224, 184, 153, 224, 184, 178, 224, 184, 167, 224, 184, 180, 224, 184, 138, 224, 184, 178, 224, 184, 129, 224, 184, 178, 224, 184, 163, 32, 224, 184, 173, 224, 184, 162, 224, 185, 136, 224, 184, 178, 224, 184, 165, 224, 185, 137, 224, 184, 178, 224, 184, 135, 224, 184, 156, 224, 184, 165, 224, 184, 178, 224, 184, 141, 224, 184, 164, 224, 185, 133, 224, 185, 128, 224, 184, 130, 224, 185, 136, 224, 184, 153, 224, 184, 134, 224, 185, 136, 224, 184, 178, 224, 184, 154, 224, 184, 181, 224, 184, 145, 224, 184, 178, 224, 185, 131, 224, 184, 132, 224, 184, 163, 32, 224, 185, 132, 224, 184, 161, 224, 185, 136, 224, 184, 150, 224, 184, 183, 224, 184, 173, 224, 185, 130, 224, 184, 151, 224, 184, 169, 224, 185, 130, 224, 184, 129, 224, 184, 163, 224, 184, 152, 224, 185, 129, 224, 184, 138, 224, 185, 136, 224, 184, 135, 224, 184, 139, 224, 184, 177, 224, 184, 148, 224, 184, 174, 224, 184, 182, 224, 184, 148, 224, 184, 174, 224, 184, 177, 224, 184, 148, 224, 184, 148, 224, 185, 136, 224, 184, 178, 32, 224, 184, 171, 224, 184, 177, 224, 184, 148, 224, 184, 173, 224, 184, 160, 224, 184, 177, 224, 184, 162, 224, 185, 128, 224, 184, 171, 224, 184, 161, 224, 184, 183, 224, 184, 173, 224, 184, 153, 224, 184, 129, 224, 184, 181, 224, 184, 172, 224, 184, 178, 224, 184, 173, 224, 184, 177, 224, 184, 138, 224, 184, 140, 224, 184, 178, 224, 184, 170, 224, 184, 177, 224, 184, 162, 32, 224, 184, 155, 224, 184, 143, 224, 184, 180, 224, 184, 154, 224, 184, 177, 224, 184, 149, 224, 184, 180, 224, 184, 155, 224, 184, 163, 224, 184, 176, 224, 184, 158, 224, 184, 164, 224, 184, 149, 224, 184, 180, 224, 184, 129, 224, 184, 142, 224, 184, 129, 224, 184, 179, 224, 184, 171, 224, 184, 153, 224, 184, 148, 224, 185, 131, 224, 184, 136, 32, 224, 184, 158, 224, 184, 185, 224, 184, 148, 224, 184, 136, 224, 184, 178, 224, 185, 131, 224, 184, 171, 224, 185, 137, 224, 184, 136, 224, 185, 138, 224, 184, 176, 224, 185, 134, 32, 224, 184, 136, 224, 185, 139, 224, 184, 178, 224, 185, 134, 32, 224, 184, 153, 224, 185, 136, 224, 184, 178, 224, 184, 159, 224, 184, 177, 224, 184, 135, 224, 185, 128, 224, 184, 173, 224, 184, 162, 224, 184, 175, 0 };
  const char polishUTF8[] = { 74, 101, 197, 188, 117, 32, 107, 108, 196, 133, 116, 119, 44, 32, 115, 112, 197, 130, 195, 179, 100, 197, 186, 32, 70, 105, 110, 111, 109, 32, 99, 122, 196, 153, 197, 155, 196, 135, 32, 103, 114, 121, 32, 104, 97, 197, 132, 98, 33, 0 };

  ret = encode_iso_8859_1_utf8(buffer, sizeof(buffer), english);
  if (!ret && !strcmp(buffer, englishUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode english test\n");
    fail++;
  }

  ret = encode_iso_8859_2_utf8(buffer, sizeof(buffer), czech);
  if (!ret && !strcmp(buffer, czechUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode czech test\n");
    fail++;
  }

  ret = encode_iso_8859_3_utf8(buffer, sizeof(buffer), turkish);
  if (!ret && !strcmp(buffer, turkishUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode turkish test\n");
    fail++;
  }

  ret = encode_iso_8859_4_utf8(buffer, sizeof(buffer), estonian);
  if (!ret && !strcmp(buffer, estonianUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode estonian test\n");
    fail++;
  }

  ret = encode_iso_8859_5_utf8(buffer, sizeof(buffer), russian);
  if (!ret && !strcmp(buffer, russianUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode russian test\n");
    fail++;
  }

  ret = encode_iso_8859_7_utf8(buffer, sizeof(buffer), greek);
  if (!ret && !strcmp(buffer, greekUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode greek test\n");
    fail++;
  }

  ret = encode_iso_8859_8_utf8(buffer, sizeof(buffer), hebrew);
  if (!ret && !strcmp(buffer, hebrewUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode hebrew test\n");
    fail++;
  }

  ret = encode_iso_8859_9_utf8(buffer, sizeof(buffer), turkish2);
  if (!ret && !strcmp(buffer, turkish2UTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode turkish2 test\n");
    fail++;
  }

  ret = encode_iso_8859_10_utf8(buffer, sizeof(buffer), swedish);
  if (!ret && !strcmp(buffer, swedishUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode swedish test\n");
    fail++;
  }

  ret = encode_iso_8859_11_utf8(buffer, sizeof(buffer), thai);
  if (!ret && !strcmp(buffer, thaiUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode thai test\n");
    fail++;
  }

  ret = encode_iso_8859_13_utf8(buffer, sizeof(buffer), polish);
  if (!ret && !strcmp(buffer, polishUTF8)) { 
    printf("%s\n", buffer);
    pass++;
  } else {
    printf("Failed to decode polish test\n");
    fail++;
  }

}
